System story
Приложение состоит из трех сервисов:
**Сервис1** - админка, отвечает за взаимодействие с пользователем, хранение и отображение пользователю информации о введенных функциях и сгенерированных графиках.
**Сервис2** - генератор данных, отвечает за генерацию данных для графика. Принимает текстовое описание функции, генерирует по ним массив [(x, y)].
**Сервис3** - генератор изображений, генерирует изображение по подготовленным данным.

Сценарий взаимодействия при добавлении новой функции:
Сервис1 сохраняет инфу о функции в БД и запускает операцию получения изображения.
Операция получения изображения сервиса1 обращается в сервис2 через REST API, передавая функцию в текстовом виде и параметры.
Сервис2 обрабатывает запрос, генерирует точки для графика по переданным данным.
Сервис1 получает точки и передает их в сервис3.
Сервис3 принимает набор точек и возвращает изображение.
Сервис1 получает изображение и сохраняет в БД, обновляет дату обновления.

Сценарий параллельного обновления через действие в админке нужно спроектировать самостоятельно.


Для запуска после загрузки из репозитория нужно собрать окружение:
``` shell
docker-compose up --build
```
После завершения всех операций нажмите *Ctrl+C*
Для создания таблиц в БД запустите:
``` shell
docker-compose run service1 python db_create.py
```

Для запуска выполните:
``` shell
docker-compose up -d
```

Формулу необходимо задавать используя переменную t.

Точки генерируются средствами БД, поэтому для генерации точек используются математический функции Postgres.

Интервал и шаг обработки задаются с помощью временных величин :
- Секунда: **s**
- Минута: **m**
- Час: **h**
- День: **d**
- Неделя: **w**
- Месяц: **month**
- Год: **y**

Например 2 часа записывается как **'2h'**